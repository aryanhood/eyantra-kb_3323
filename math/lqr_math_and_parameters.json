{
    "model": {
        "type": "linearized inverted pendulum on wheels",
        "state_vector": [
            "theta",
            "theta_dot",
            "x",
            "x_dot"
        ],
        "control_input": [
            "torque"
        ],
        "A_matrix": [
            [
                0,
                1,
                0,
                0
            ],
            [
                6.938310412573673,
                0,
                0,
                0
            ],
            [
                0,
                0,
                0,
                1
            ],
            [
                9.81,
                0,
                0,
                0
            ]
        ],
        "B_matrix": [
            [
                0
            ],
            [
                0.5893909626719057
            ],
            [
                0
            ],
            [
                0.8333333333333334
            ]
        ],
        "parameters": {
            "mass_body": 1.0,
            "mass_wheel": 0.2,
            "wheel_radius": 0.03,
            "wheel_base": 0.12,
            "inertia_body": 0.05,
            "inertia_wheel": 0.0002,
            "g": 9.81
        }
    },
    "lqr_design": {
        "Q_matrix": [
            [
                100,
                0,
                0,
                0
            ],
            [
                0,
                1,
                0,
                0
            ],
            [
                0,
                0,
                10,
                0
            ],
            [
                0,
                0,
                0,
                1
            ]
        ],
        "R_matrix": [
            [
                0.01
            ]
        ],
        "optimal_gain_K": [
            17.0,
            7.5,
            1.1,
            3.0
        ],
        "integral_control": {
            "enable": true,
            "Ki": 0.015,
            "description": "Integral of theta is added to eliminate steady-state error"
        }
    },
    "signal_processing": {
        "filters": {
            "enable": true,
            "filter_type": "first_order_low_pass",
            "alpha": 0.3,
            "description": "Used to smooth theta_dot and x_dot estimates"
        }
    },
    "safety": {
        "angle_cutoff_deg": 30.0,
        "max_torque_Nm": 2.5
    },
    "control_law": "u = -K @ x - Ki * integral(theta)",
    "stability_notes": "High Q on theta provides strong upright stabilization; low R allows more torque authority; low-pass filtering reduces sensor noise."
}